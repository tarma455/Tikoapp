<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>TIKO â€“ Historial MÃ©dico</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,#6366f1,#22c55e);
  min-height:100vh;
  padding:12px;
}
.card{
  background:white;
  border-radius:16px;
  padding:16px;
  max-width:420px;
  margin:auto;
  box-shadow:0 10px 25px rgba(0,0,0,.3);
}
h2{
  text-align:center;
  margin-top:0;
}
.item{
  border-left:5px solid #22c55e;
  padding:10px;
  margin-bottom:10px;
  background:#f9fafb;
  border-radius:10px;
}
.label{
  font-size:12px;
  color:#555;
}
.value{
  font-weight:bold;
  margin-bottom:4px;
}
</style>
</head>

<body>
<div class="card">
  <h2>ðŸ©º Historial MÃ©dico</h2>
  <div id="lista"></div>
</div>

<script>
function cargarHistorial(){
  try{
    const datos = JSON.parse(window.AppInventor.getWebViewString());
    const contenedor = document.getElementById("lista");
    contenedor.innerHTML = "";

    if(datos.length === 0){
      contenedor.innerHTML = "<p>No hay registros aÃºn.</p>";
      return;
    }

    datos.forEach(item=>{
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <div class="label">Fecha</div>
        <div class="value">${item.fecha || "-"}</div>

        <div class="label">Motivo</div>
        <div class="value">${item.motivo || "-"}</div>

        <div class="label">Tratamiento</div>
        <div class="value">${item.tratamiento || "-"}</div>

        <div class="label">Notas</div>
        <div class="value">${item.notas || "-"}</div>
      `;
      contenedor.appendChild(div);
    });

  }catch(e){}
}

setInterval(cargarHistorial, 700);
</script>

</body>
</html>
