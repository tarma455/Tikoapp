<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>TIKO - Mascotas</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore-compat.js"></script>

<style>
body{
  margin:0;
  font-family:Arial;
  background:linear-gradient(180deg,#0f172a,#1e3a8a);
  min-height:100vh;
}
.card{
  margin:20px auto;
  padding:20px;
  max-width:420px;
  background:linear-gradient(135deg,#ffffff,#e0f2fe);
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.4);
}
.item{margin:10px 0}
h2{text-align:center;margin-top:0}
</style>
</head>

<body>

<div class="card">
  <h2>ğŸ¾ Mis Mascotas</h2>

  <div class="item"><b>Nombre:</b> <span id="mNombre">â€”</span></div>
  <div class="item"><b>Especie:</b> <span id="mEspecie">â€”</span></div>
  <div class="item"><b>Edad:</b> <span id="mEdad">â€”</span></div>

  <button onclick="window.location.href='home.html'">â¬… Volver</button>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyANX656iqyz6NIo7WX_IvIMnY4w9SQP6sU",
  authDomain: "tiko-ap.firebaseapp.com",
  projectId: "tiko-ap"
};
firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const db = firebase.firestore();

auth.onAuthStateChanged(user=>{
  if(!user) return;

  // âš ï¸ Se asume UNA mascota por ahora
  db.collection("mascotas")
    .where("uid","==",user.uid)
    .limit(1)
    .get()
    .then(snap=>{
      if(!snap.empty){
        const d = snap.docs[0].data();
        mNombre.innerText = d.nombre || "â€”";
        mEspecie.innerText = d.especie || "â€”";
        mEdad.innerText = d.edad || "â€”";
      }
    });
});
</script>

</body>
</html>
